<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=1483919724" type="text/javascript" charset="utf-8"></script>
    <script>
        function login(o) {
            colsole.info(o);
            alert("登錄");
        }
        function logout() {
            alert("退出");
        }
        WB2.anyWhere(function(W){
            //数据交互
            W.parseCMD('/users/show.json', function(oResult, bStatus) {
                if(bStatus) {
                    sessionStorage.user=JSON.stringify(oResult);
                }
            }, {
                uid: WB2.oauthData.uid
            }, {
                method : 'get',
                cache_time : 30
            });
        });
        // WB2.anyWhere(function (W) {
        //     W.widget.connectButton({
        //         id: "wb_connect_btn",
        //         type: '3,2',
        //         callback: {
        //             login: function (o) { //登录后的回调函数
        //                 alert("login: " + o.screen_name)
        //             },
        //             logout: function () { //退出后的回调函数
        //                 alert('logout');
        //             }
        //         }
        //     });
        // });
    </script>
</head>
<body>
    <h1>用户管理页</h1>
    <wb:login-button type="3,2" onlogin="login" onlogout="logout">登录按钮</wb:login-button>
<!--    <div id="wb_connect_btn" >-->
<!--&lt;!&ndash;        <wb:login-button type="2,1" onlogin="login" onlogout="logout">登录按钮</wb:login-button>&ndash;&gt;-->
<!--    </div>-->

</body>
</html>